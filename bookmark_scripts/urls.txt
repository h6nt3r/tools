javascript:(()=>{try{const urls=new Set(),attrs=["href","src","action","data-src","data-href","formaction","poster","poster","background"];document.querySelectorAll("*").forEach(e=>{attrs.forEach(a=>{e.hasAttribute(a)&&urls.add(e.getAttribute(a))});if(e.hasAttribute("srcset"))e.getAttribute("srcset").split(",").forEach(p=>urls.add(p.trim().split(/\s+/)[0]));for(let i=0;i<e.attributes.length;i++){let at=e.attributes[i];/^on/i.test(at.name)&&at.value&&at.value.match(/((https?:\/\/|\/\/|\.{0,2}\/)[^\s%27"<>()]+)/gi)?.forEach(u=>urls.add(u))}});document.querySelectorAll("script,style").forEach(s=>s.textContent.match(/((https?:\/\/|\/\/|\.{0,2}\/)[^\s%27\"<>()]+)/gi)?.forEach(u=>urls.add(u)));const L=[...urls];const curHost=location.hostname,scope=curHost.split(%27.%27).slice(-2).join(%27.%27);const w=window.open("","_blank");if(!w){alert("Allow popups!");return}w.document.write(`<!doctype html><html><head><meta charset="utf-8"><title>Extracted URLs</title><style>body{font-family:monospace;padding:10px;background-color:#121212;color:#ffffff}input#f{width:100%;padding:5px;margin:5px 0;background:#1e1e1e;color:#ffffff;border:1px solid #333}label{display:inline-block;margin-right:12px;cursor:pointer;color:#ffffff}button{padding:5px 10px;margin:5px;background:#1e1e1e;color:#ffffff;border:1px solid #333}a.item{display:block;word-break:break-all;color:#ffffff;text-decoration:none}a.item:hover{text-decoration:underline}i{color:#888}.section-title{margin-top:1em;font-weight:bold;color:#ffffff}</style></head><body><h2 id="header">Extracted URLs</h2><div><label><input type="checkbox" id="abs"> Path Absolute</label><label><input type="checkbox" id="dom" checked> Domain Only</label><label><input type="checkbox" id="js"> JS Links</label><label><input type="checkbox" id="params"> Params</label><button id="copyBtn">Copy All URLs</button></div><input type="text" id="f" placeholder="Filter URLs..."><div id="list"></div><script>const A=${JSON.stringify(L)},curHost="${curHost}",scope="${scope}";const list=document.getElementById("list"),f=document.getElementById("f"),abs=document.getElementById("abs"),dom=document.getElementById("dom"),js=document.getElementById("js"),params=document.getElementById("params"),copyBtn=document.getElementById("copyBtn"),header=document.getElementById("header");function getURL(u){try{return new URL(u,location.href)}catch{return null}}function isSameScope(host){if(!host) return false;if(host===curHost) return true;if(host.endsWith("."+scope)) return true;return false}function isAbs(u){return /^\\//.test(u)}function render(){list.innerHTML='';const q=f.value.toLowerCase();let count=0;let typeLabel='';A.forEach(u=>{if(!u) return;if(q&&!u.toLowerCase().includes(q)) return;const parsed=getURL(u);const host=(parsed&&parsed.hostname)||'';const absFlag=isAbs(u);const sameScope=isSameScope(host)||absFlag;if(js.checked||params.checked){if(!/^https?:/.test(u)) return;if(dom.checked&&!sameScope) return;const jsFile=/\\.(js|json|jsp)(\\?|#|$)/i.test(u);const hasParam=/[?=]/.test(u);if(js.checked&&!jsFile) return;if(params.checked&&!hasParam) return;typeLabel='Full URLs';}else{if(abs.checked&&!absFlag) return;if(dom.checked&&!sameScope) return;if(abs.checked) typeLabel='Total absolute paths'; else typeLabel='Extracted URLs';}const href=parsed?parsed.href:u;const a=document.createElement('a');a.className='item';a.textContent=u;a.style.color='#ffffff';a.href=href;a.target='_blank';a.rel='noopener noreferrer';list.appendChild(a);count++;});header.textContent=typeLabel+' ('+count+')';if(count===0) list.innerHTML='<i>No URLs matched.</i>'}f.addEventListener('input',render);[abs,dom,js,params].forEach(c=>c.addEventListener('change',render));copyBtn.addEventListener('click',()=>{const text=[...list.querySelectorAll('a.item')].map(a=>a.textContent).join('\\n');navigator.clipboard.writeText(text).then(()=>alert('Copied '+[...list.querySelectorAll('a.item')].length+' URLs')).catch(()=>alert('Could not copy'))});render();<\/script></body></html>%60);w.document.close();}catch(e){alert("Error: "+e.message)}})();